import { useMemo, useRef } from 'react';
import hasClass from 'dom-helpers/hasClass';
import { useBootstrapPrefix } from './ThemeProvider';
import Popover from './Popover'; // This is meant for internal use.
// This applies a custom offset to the overlay if it's a popover.

<<<<<<< HEAD
export default function useOverlayOffset(customOffset) {
=======
export default function useOverlayOffset() {
>>>>>>> fdb7c92a283e1067c995a5190717b93d6197f83d
  const overlayRef = useRef(null);
  const popoverClass = useBootstrapPrefix(undefined, 'popover');
  const offset = useMemo(() => ({
    name: 'offset',
    options: {
      offset: () => {
        if (overlayRef.current && hasClass(overlayRef.current, popoverClass)) {
<<<<<<< HEAD
          return customOffset || Popover.POPPER_OFFSET;
        }

        return customOffset || [0, 0];
      }
    }
  }), [customOffset, popoverClass]);
=======
          return Popover.POPPER_OFFSET;
        }

        return [0, 0];
      }
    }
  }), [popoverClass]);
>>>>>>> fdb7c92a283e1067c995a5190717b93d6197f83d
  return [overlayRef, [offset]];
}